<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alfredo Sánchez Alberca &nbsp;   ">

<title>Integrales de funciones de varias variables</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="14-integrales-funciones-varias-variables_files/libs/clipboard/clipboard.min.js"></script>
<script src="14-integrales-funciones-varias-variables_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="14-integrales-funciones-varias-variables_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="14-integrales-funciones-varias-variables_files/libs/quarto-html/popper.min.js"></script>
<script src="14-integrales-funciones-varias-variables_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="14-integrales-funciones-varias-variables_files/libs/quarto-html/anchor.min.js"></script>
<link href="14-integrales-funciones-varias-variables_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="14-integrales-funciones-varias-variables_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="14-integrales-funciones-varias-variables_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="14-integrales-funciones-varias-variables_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="14-integrales-funciones-varias-variables_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="14-integrales-funciones-varias-variables_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="14-integrales-funciones-varias-variables_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Otros formatos</h2><ul><li><a href="14-integrales-funciones-varias-variables.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Integrales de funciones de varias variables</h1>
<p class="subtitle lead">Análisis Matemático</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Autor/a</div>
  <div class="quarto-title-meta-heading">Afiliación</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Alfredo Sánchez Alberca &nbsp; <a href="mailto:asalber@ceu.es"><i class="fa-solid fa-envelope" aria-label="envelope"></i></a> <a href="https://twitter.com/aprendeconalf"><i class="fa-brands fa-twitter" aria-label="twitter"></i></a> <a href="https://aprendeconalf.es"><i class="fa-solid fa-home" aria-label="home"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Universidad CEU San Pablo
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<section id="sumas-de-riemann" class="level2">
<h2 class="anchored" data-anchor-id="sumas-de-riemann">Sumas de Riemann</h2>
<div id="def-intervalo-n-dimensional-cerrado" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 1 (Intervalo <span class="math inline">\(n\)</span> dimensional)</strong></span> Dados <span class="math inline">\(n\)</span> intervalos cerrados de <span class="math inline">\(\mathbb{R}\)</span> <span class="math inline">\(I_i=[a_i,b_i]\)</span> <span class="math inline">\(i=1\ldots n\)</span>, su producto cartesiano <span class="math inline">\(I = I_1\times \cdots \times I_n\)</span> se conoce como <em>intervalo <span class="math inline">\(n\)</span> dimensional cerrado</em> o <em>hiperrectángulo</em>.</p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>En <span class="math inline">\(\mathbb{R}^2\)</span>, el intervalo <span class="math inline">\([a_x,b_x]\times [a_y,b_y]\)</span> define un <em>rectángulo</em>, mientras que en <span class="math inline">\(\mathbb{R}^3\)</span> el intervalo <span class="math inline">\([a_x,b_x]\times [a_y,b_y]\times [a_z,b_z]\)</span> define una <em>caja</em>.</p>
</div>
</div>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<div id="def-particion-n-dimensional" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 2 (Partición de un intervalo <span class="math inline">\(n\)</span> dimensional)</strong></span> Dado un intervalo <span class="math inline">\(n\)</span> dimensional cerrado <span class="math inline">\(I=I_1\times\cdots\times I_n\)</span>, con <span class="math inline">\(I_i=[a_i,b_i]\)</span> <span class="math inline">\(i=1,\ldots,n\)</span>, y una partición <span class="math inline">\(P_i=\{x_{i,0}=a_i,x_{i,1}\ldots,x_{i,m_i}\}\)</span> de cada intervalo <span class="math inline">\(I_i\)</span>, el producto cartesiano <span class="math inline">\(P=P_1\times\cdots\times P_n\)</span> se conoce como <em>partición <span class="math inline">\(n\)</span> dimensional</em> de <span class="math inline">\(I\)</span>.</p>
<p>El conjunto de todas las particiones <span class="math inline">\(n\)</span> dimensionales de <span class="math inline">\(I\)</span> se denota <span class="math inline">\(\mathcal{P}(I)\)</span>.</p>
</div>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<div id="def-suma-inferior-superior-riemann-n-dimensional" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 3 (Sumas de Riemann)</strong></span> Dada una función <span class="math inline">\(f:I\to \mathbb{R}\)</span> acotada en el intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\subset \mathbb{R}^n\)</span> y una partición <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(P\)</span> de <span class="math inline">\(I\)</span>, se define la <em>suma inferior de Riemann</em> de <span class="math inline">\(f\)</span> respecto de <span class="math inline">\(P\)</span>, y se denota <span class="math inline">\(s(f,P)\)</span>, como</p>
<p><span class="math display">\[
s(f,P) = \sum_{i_1=1}^{m_1}\cdots \sum_{i_n=1}^{m_n} m_{i_1,\ldots,i_n} (x_{1,i_1}-x_{1,i_1-1})\cdots (x_{n,i_n}-x_{n,i_n-1}),
\]</span></p>
<p>donde <span class="math inline">\(m_{i_1,\ldots,i_n} = \inf\{f(x_1,\ldots,x_n): x_j\in[x_{j,i_j-1}, x_{j,i_j}]\ \forall j=1,\ldots, n\}\)</span>.</p>
<p>Del mismo modo, se define la <em>suma superior de Riemann</em> de <span class="math inline">\(f\)</span> respecto de <span class="math inline">\(P\)</span>, y se denota <span class="math inline">\(S(f,P)\)</span>, como</p>
<p><span class="math display">\[
S(f,P) = \sum_{i_1=1}^{m_1}\cdots \sum_{i_n=1}^{m_n} M_{i_1,\ldots,i_n} (x_{1,i_1}-x_{1,i_1-1})\cdots (x_{n,i_n}-x_{n,i_n-1}),
\]</span></p>
<p>donde <span class="math inline">\(M_{i_1,\ldots,i_n} = \sup\{f(x_1,\ldots,x_n): x_j\in[x_{j,i_j-1}, x_{j,i_j}]\ \forall j=1,\ldots, n\}\)</span>.</p>
</div>
<hr>
<p>Aunque la definición es un poco enrevesada para <span class="math inline">\(\mathbb{R}^n\)</span>, si <span class="math inline">\(f(x,y)\)</span> es una función de dos variables acotada en el intervalo <span class="math inline">\(I=[a,b]\times [c,d]\subset \mathbb{R}^2\)</span>, y <span class="math inline">\(P=P_x\times P_y\)</span> es una partición de <span class="math inline">\(I\)</span> con <span class="math inline">\(P_x=\{x_0=a,x_1,\ldots, x_n=b\}\)</span> y <span class="math inline">\(P_x=\{y_0=c,y_1,\ldots, y_m=d\}\)</span>, las sumas de Riemann inferior y superior de <span class="math inline">\(f\)</span> respecto de <span class="math inline">\(P\)</span> son</p>
<p><span class="math display">\[\begin{align*}
s(f,P) &amp;= \sum_{i=1}^n \sum_{j=1}^m m_{ij}(x_i-x_{i-1})(y_j-y_{j-1}), \\
S(f,P) &amp;= \sum_{i=1}^n \sum_{j=1}^m M_{ij}(x_i-x_{i-1})(y_j-y_{j-1}),
\end{align*}\]</span></p>
<p>donde <span class="math inline">\(m_{ij}\)</span> y <span class="math inline">\(M_{ij}\)</span> son el ínfimo y el supremo de <span class="math inline">\(\{f(x,y): (x,y)\in [x_{i-1},x_i]\times [y_{j-1},y_j]\}\)</span>.</p>
<hr>
<p>Gráficamente, si <span class="math inline">\(f(x,y)\)</span> es una función positiva en <span class="math inline">\(I\)</span>, la suma inferior se puede interpretar como la suma de los volúmenes de los prismas de base rectangular con lados <span class="math inline">\([x_{i-1},x_i]\)</span> y <span class="math inline">\([y_{j-1},y_j]\)</span> y altura <span class="math inline">\(m_{ij}\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/integrales-funciones-varias-variables/suma-riemann-funcion-varias-variables.svg" class="img-fluid figure-img"></p>
<figcaption>Suma inferior de Riemann en <span class="math inline">\(\mathbb{R}^2\)</span></figcaption>
</figure>
</div>
<hr>
<div id="exm-sumas-riemann" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 1</strong></span> Veamos cómo calcular las sumas de Riemann de la función <span class="math inline">\(f(x,y)=x^2y\)</span> en el rectángulo <span class="math inline">\([0,1]\times [0,1]\)</span> para la partición <span class="math inline">\(P=\{0, 0.5, 1\}\times \{0, 0.5, 1\}\)</span></p>
<p>Esta partición descompone el intervalo bidimensional <span class="math inline">\([0,1]\times [0,1]\)</span> en <span class="math inline">\(4\)</span> rectángulos (en realidad cuadrados) como los que se ven la siguiente figura.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/integrales-funciones-varias-variables/particion-intervalo-bidimensional.svg" class="img-fluid figure-img" width="400"></p>
<figcaption>Partición del intervalo <span class="math inline">\([0,1]\times [0,1]\)</span> en 4 subintervalos.</figcaption>
</figure>
</div>
</div>
<hr>
<p>Como <span class="math inline">\(f\)</span> es creciente tanto en <span class="math inline">\(x\)</span> como en <span class="math inline">\(y\)</span> en el intervalo <span class="math inline">\(I\)</span>, alcanzará el mínimo en el extremo inferior izquierdo de cada subintervalo y el máximo en el extremo superior derecho. Por tanto, la suma inferior de Riemann es</p>
<p><span class="math display">\[\begin{align*}
s(f,P) &amp;= f(0,0)(0.5-0)(0.5-0) + f(0,0.5)(0.5-0)(1-0.5) \\
&amp;+ f(0.5,0)(1-0.5)(0.5-0) + f(0.5, 0.5)(1-0.5)(1-0.5) \\
&amp;= 0\cdot 0.25 + 0 \cdot 0.25 + 0 \cdot 0.25 + 0.125 \cdot 0.25
= 0.03125.
\end{align*}\]</span></p>
<p>Y la suma superior de Riemann es</p>
<p><span class="math display">\[\begin{align*}
S(f,P) &amp;= f(0.5,0.5)(0.5-0)(0.5-0) + f(0.5,1)(0.5-0)(1-0.5) \\
&amp;+ f(1,0.5)(1-0.5)(0.5-0) + f(1, 1)(1-0.5)(1-0.5) \\
&amp;= 0.125\cdot 0.25 + 0.25 \cdot 0.25 + 0.5 \cdot 0.25 + 1 \cdot 0.25
= 0.46875.
\end{align*}\]</span></p>
</section>
<section id="integral-de-riemann-múltiple" class="level2">
<h2 class="anchored" data-anchor-id="integral-de-riemann-múltiple">Integral de Riemann múltiple</h2>
<div id="def-integral-inferior-superior-riemann-multiple" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 4 (Integral inferior y superior de Riemann)</strong></span> Dada una función <span class="math inline">\(f:I\to \mathbb{R}\)</span> acotada en el intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\subset \mathbb{R}^n\)</span> y una partición <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(P\)</span> de <span class="math inline">\(I\)</span>, se define la <em>integral inferior de Riemann</em> de <span class="math inline">\(f\)</span> en <span class="math inline">\(I\)</span>, como</p>
<p><span class="math display">\[
\underline{\int_I} f = \sup\{s(f,P): P\in\mathcal{P}(I)\}.
\]</span></p>
<p>Y se define la <em>integral superior de Riemann</em> de <span class="math inline">\(f\)</span> en <span class="math inline">\(I\)</span>, como</p>
<p><span class="math display">\[
\overline{\int_I} f = \inf\{S(f,P): P\in\mathcal{P}(I)\}.
\]</span></p>
</div>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<div id="def-integral-riemann-n-dimensional" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 5</strong></span> Dada una función <span class="math inline">\(f:I\to \mathbb{R}\)</span> acotada en el intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\subset \mathbb{R}^n\)</span>, se dice que <span class="math inline">\(f\)</span> es integrable Riemann en <span class="math inline">\(I\)</span> si</p>
<p><span class="math display">\[
\underline{\int_I} f = \overline{\int_I}f,
\]</span></p>
<p>y a este valor se le llama <em>integral de Riemann</em> o <em>integral definida</em> de <span class="math inline">\(f\)</span> en <span class="math inline">\(I\)</span> y se denota por</p>
<p><span class="math display">\[
\int_I f \quad \mbox{o bien} \quad \int_I f(x_1,\ldots,x_n)\,dA,
\]</span> donde <span class="math inline">\(dA = dx_1\cdots dx_n\)</span>.</p>
</div>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<div id="prp-integral-riemann-n-dimensional" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposición 1</strong></span> Si <span class="math inline">\(f:I\to \mathbb{R}\)</span> es integrable Riemann en el intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\subset \mathbb{R}^n\)</span>, entonces</p>
<p><span class="math display">\[
\int_I f = \lim_{m\to \infty} \sum_{i_1=1}^m\cdots \sum_{i_n=1}^m f(x_{1,i_1},\ldots, x_{n,i_n})\Delta A,
\]</span></p>
<p>donde <span class="math inline">\(P\)</span> es una partición de <span class="math inline">\(I\)</span> en <span class="math inline">\(m^n\)</span> subintervalos de igual tamaño y <span class="math inline">\(\Delta A = (x_{1,i_1}-x_{1,i_1-1})\cdots (x_{n,i_n}-x_{n,i_n-1})\)</span> es el hipervolumen de los subintervalos de la partición.</p>
</div>
<hr>
<p>En el caso de una función de dos variables <span class="math inline">\(f(x,y)\)</span> la proposición anterior establece que si <span class="math inline">\(f\)</span> es integrable Riemann en un intervalo <span class="math inline">\([a,b]\times [c,d]\)</span>, entonces</p>
<p><span class="math display">\[
\int_I f = \lim_{n\to \infty}\sum_{i=1}^n\sum_{j=1}^n f(x_i, y_j)\Delta A,
\]</span></p>
<p>donde <span class="math inline">\(P_n = \{x_0=a,x_1,\ldots,x_n=b\}\times \{y_0=c,y_1,\ldots,y_n=d\}\)</span> y <span class="math inline">\(\Delta A = (x_i-x_{i-1})(y_j-y_{j-1})\)</span>, es el área de los rectángulos definidos por cada subintervalo de la partición. Es decir, la integral de Riemann aparece al tomar particiones cada vez más refinadas con subintervalos de igual tamaño y hacer la suma de las áreas de los subintervalos multiplicadas por el valor de la función en el extremo superior derecho del subintervalo.</p>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cuando se quieren hacer explícitas las variables de las que depende la función <span class="math inline">\(f\)</span>, la integral de Riemann se suele escribir</p>
<p><span class="math display">\[
\int_{I} f(x,y) \,dx\,dy
\]</span></p>
<p>para funciones de dos variables y</p>
<p><span class="math display">\[
\int_{I} f(x,y,z) \,dx\,dy\,dz
\]</span></p>
<p>para funciones de tres variables.</p>
</div>
</div>
</section>
<section id="propiedades-de-las-integrales-de-riemann-múltiples" class="level2">
<h2 class="anchored" data-anchor-id="propiedades-de-las-integrales-de-riemann-múltiples">Propiedades de las Integrales de Riemann múltiples</h2>
<p>Las <a href="http://localhost:1313/09-integrales.html#propiedades-de-la-integral-de-riemann">propiedades de la integral de Riemann</a> para funciones de una variable también se pueden generalizar para integrales de Riemann múltiples.</p>
<div id="thm-propiedades-integrales-Riemann-multiples" class="theorem">
<p><span class="theorem-title"><strong>Teorema 1</strong></span> Si <span class="math inline">\(f,g:I\to\mathbb{R}\)</span> son dos funciones integrables Riemann en un intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\)</span>, entonces</p>
<ol type="a">
<li><p><span class="math inline">\(f+g\)</span> es integrable Riemann en <span class="math inline">\(I\)</span> y <span class="math inline">\(\int_I (f+g) = \int_I f + \int_I g.\)</span></p></li>
<li><p>Para cualquier <span class="math inline">\(c\in\mathbb{R}\)</span>, <span class="math inline">\(cf\)</span> es integrable Riemann en <span class="math inline">\(I\)</span> y <span class="math inline">\(\int_I cf = c\int_I f\)</span>.</p></li>
<li><p>Si <span class="math inline">\(f(x_1,\ldots,x_n) \leq g(x_1,\ldots,x_n)\)</span> <span class="math inline">\(\forall (x_1,\ldots,x_n)\in I\)</span>, entonces <span class="math inline">\(\int_I f \leq \int_I g\)</span>.</p></li>
</ol>
</div>
</section>
<section id="integrales-múltiples-iteradas" class="level2">
<h2 class="anchored" data-anchor-id="integrales-múltiples-iteradas">Integrales múltiples iteradas</h2>
<p>El procedimiento para reducir el cálculo de una integral múltiple al cálculo de varias integrales simples es, en el fondo, el mismo que se utilizó para calcular derivadas parciales, es decir, realizar integrales simples de las funciones parciales que se obtienen al fijar como constantes todas las variables excepto aquella con respecto a la que se integra.</p>
<hr>
<p>Veamos el procedimiento para una función de dos variables. Supongamos que <span class="math inline">\(f(x,y)\)</span> es integrable Riemann en el intervalo <span class="math inline">\(I=[a,b]\times [c,d]\)</span>. Si mantenemos <span class="math inline">\(x\)</span> constante, podemos calcular la integral definida simple con respecto a <span class="math inline">\(y\)</span> en el intervalo <span class="math inline">\([c,d]\)</span>, es decir, <span class="math inline">\(\int_c^d f(x,y)\, dy\)</span>. Para cada valor de <span class="math inline">\(x\)</span>, esta integral tomará un valor distinto, por lo que podemos definir la función</p>
<p><span class="math display">\[
A(x) = \int_c^d f(x,y)\,dy,
\]</span></p>
<p>que solo depende de <span class="math inline">\(x\)</span>. Si ahora se integra esta función con respecto a <span class="math inline">\(x\)</span> en el intervalo <span class="math inline">\([a,b]\)</span>, se tiene</p>
<p><span class="math display">\[
\int_a^b A(x)\,dx = \int_a^b\int_c^d f(x,y)\,dy\,dx.
\]</span></p>
<p>Esta integral se conoce como <em>integral doble iterada</em>, primero con respecto a <span class="math inline">\(y\)</span> y después con respecto a <span class="math inline">\(x\)</span>.</p>
<hr>
<p>De manera similar, podríamos haber integrado primero con respecto a <span class="math inline">\(x\)</span> y luego con respecto a <span class="math inline">\(y\)</span>, y tendríamos esta otra integral doble iterada</p>
<p><span class="math display">\[
\int_c^d\int_a^b f(x,y)\,dx\,dy.
\]</span></p>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<div id="thm-teorema-fubini" class="theorem">
<p><span class="theorem-title"><strong>Teorema 2 (Fubini)</strong></span> Si <span class="math inline">\(f(x,y)\)</span> es una función continua en un intervalo <span class="math inline">\(I=[a,b]\times [c,d]\)</span>, entonces</p>
<p><span class="math display">\[
\int_I f(x,y)\, dA
= \int_a^b\int_c^d f(x,y)\,dy\,dx
= \int_c^d\int_a^b f(x,y)\,dx\,dy.
\]</span></p>
</div>
<hr>
<div id="exm-integrales-iteradas" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 2</strong></span> La integral doble de la función <span class="math inline">\(f(x,y)=12-2x-y^2\)</span> en el intervalo <span class="math inline">\(I=[0,1]\times[0,3]\)</span> es</p>
<p><span class="math display">\[\begin{align*}
\int_I f(x,y)\, dA
&amp;= \int_0^1 \int_0^3 12-2x-y^2 \,dy\,dx
= \int_0^1 \left[12y-2xy-\frac{y^3}{3}\right]_0^3\,dx \\
&amp;= \int_0^1 36-6x-\frac{3^3}{3}\, dx
= \int_0^1 27-6x\,dx \\
&amp;= [27x-3x^2]_0^1
= 27-3
= 24.
\end{align*}\]</span></p>
</div>
<hr>
<p>Podríamos haber llegado a este mismo resultado haciendo la otra integral iterada</p>
<p><span class="math display">\[\begin{align*}
\int_I f(x,y)\, dA
&amp;= \int_0^3 \int_0^1 12-2x-y^2 \,dx\,dy
= \int_0^3 \left[12x-x^2-xy^2\right]_0^1\,dy \\
&amp;= \int_0^3 12-1-y^2\, dy
= \int_0^3 11-y^2\,dy \\
&amp;= \left[11y-\frac{y^3}{3}\right]_0^3
= 33 - \frac{3^3}{3}
= 24.
\end{align*}\]</span></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Importante
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aunque cuando la función es integrable Riemann el orden de integración de las integrales iteradas no importa, a menudo, una integral iterada suele ser más fácil de calcular que la otra.</p>
</div>
</div>
<hr>
<div id="exm-integrales-iteradas-2" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 3</strong></span> Para calcular la integral de la función <span class="math inline">\(f(x,y) = xe^{xy}\)</span> en el intervalo <span class="math inline">\(I=[0,1]\times [0,1]\)</span>, si primero integramos con respecto a <span class="math inline">\(y\)</span> y después con respecto a <span class="math inline">\(x\)</span> se tiene</p>
<p><span class="math display">\[\begin{align*}
\int_I f(x,y)\, dA
&amp;= \int_0^1 \int_0^1 xe^{xy}\,dy\,dx
= \int_0^1 \left[e^{xy}\right]_0^1 \,dx\\
&amp;= \int_0^1 e^x-1\,dx
= [e^x-x]_0^1
= e - 2.
\end{align*}\]</span></p>
<p>Sin embargo, si primero integramos con respecto a <span class="math inline">\(x\)</span> y luego con respecto a <span class="math inline">\(y\)</span> se tiene una integral mucho más difícil de calcular.</p>
</div>
<p><a href="https://www.geogebra.org/classic/s5ve2dxb"><img src="./img/logos/logo-geogebra.png" class="img-fluid" alt="Calculadora de integrales dobles iteradas."> Calculadora de sumas de Riemann</a></p>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<p>En el caso de que <span class="math inline">\(f(x,y)\)</span> pueda factorizarse como producto de funciones que sólo dependen de <span class="math inline">\(x\)</span> o de <span class="math inline">\(y\)</span>, entonces el cálculo de la integral doble se simplifica.</p>
<div id="prp-integral-doble-producto-funciones" class="theorem proposition">
<p><span class="theorem-title"><strong>Proposición 2</strong></span> Si <span class="math inline">\(f(x,y)=g(x)h(y)\)</span> es integrable Riemann en el intervalo <span class="math inline">\(I=[a,b]\times [c,d]\)</span>, entonces</p>
<p><span class="math display">\[
\int_I f(x,y)\, dA
= \int_a^b g(x)\,dx \int_c^d h(y)\,dy.
\]</span></p>
</div>
<hr>
<div id="exm-integral-doble-producto-funciones" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 4</strong></span> La integral doble de la función <span class="math inline">\(f(x,y) = e^{2x-3y}\)</span> en el intervalo <span class="math inline">\(I=[0,1]\times [0,2]\)</span> es</p>
<p><span class="math display">\[\begin{align*}
\int_I e^{2x-3y} \,dx\,dy
&amp;= \int_I e^{2x}e^{-3y} \,dx\,dy
= \int_0^1 e^{2x}\,dx\, \int_0^2 e^{-3y}\,dy \\
&amp;= \left[\frac{e^{2x}}{2}\right]_0^1\, \left[\frac{-e^{-3y}}{3}\right]_0^2
= \left(\frac{e^2}{2}-\frac{1}{2}\right)\left(\frac{-e^6}{3}+\frac{1}{3}\right)
\end{align*}\]</span></p>
</div>
</section>
<section id="integrales-sobre-regiones-no-regulares" class="level2">
<h2 class="anchored" data-anchor-id="integrales-sobre-regiones-no-regulares">Integrales sobre regiones no regulares</h2>
<p>En general, la integral de Riemann de una función <span class="math inline">\(f\)</span> sobre un intervalo <span class="math inline">\(n\)</span> dimensional puede extenderse a una región irregular acotada <span class="math inline">\(R\)</span> simplemente tomando un intervalo <span class="math inline">\(n\)</span> dimensional <span class="math inline">\(I\)</span> que incluya la región, es decir <span class="math inline">\(R\subseteq I\)</span> y redefiniendo <span class="math inline">\(f\)</span> como</p>
<p><span class="math display">\[
F(x_1,\ldots,x_n) =
\begin{cases}
f(x_1,\ldots,x_n) &amp; \mbox{si $(x,1,\ldots,x_n)\in R$}\\
0 &amp; \mbox{si $(x,1,\ldots,x_n)\in I\setminus R$}
\end{cases}
\]</span>.</p>
<p>y calculando la integral de Riemann de <span class="math inline">\(F\)</span> sobre <span class="math inline">\(I\)</span> como se ha visto en la sección anterior, es decir,</p>
<p><span class="math display">\[
\int_{R} f(x_1,\ldots,x_n)\,dA
= \int_{I} F(x_1,\ldots,x_n)\,dA.
\]</span></p>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<p>Si <span class="math inline">\(R\)</span> es una región del plano <span class="math inline">\(xy\)</span> delimitada por las gráficas de dos funciones <span class="math inline">\(g_1(x)\)</span> y <span class="math inline">\(g_2(x)\)</span>, es decir,</p>
<p><span class="math display">\[
R = \{(x,y): a\leq x \leq b, g_1(x)\leq y \leq g_2(x)\},
\]</span></p>
<p>la integral de Riemann <span class="math inline">\(f\)</span> sobre esta región se puede calcular mediante la integral iterada</p>
<p><span class="math display">\[
\int_{R} f(x,y)\,dA
= \int_a^b \int_{g_1(x)}^{g_2(x)} f(x,y)\,dy\,dx.
\]</span></p>
<hr>
<p>Del mismo modo, si <span class="math inline">\(R\)</span> es una región del plano <span class="math inline">\(xy\)</span> delimitada por las gráficas de dos funciones <span class="math inline">\(g_1(y)\)</span> y <span class="math inline">\(g_2(y)\)</span>, es decir,</p>
<p><span class="math display">\[
R = \{(x,y): g_1(y)\leq x \leq g_2(y), a\leq y\leq b\},
\]</span></p>
<p>la integral de Riemann <span class="math inline">\(f\)</span> sobre esta región se puede calcular mediante la integral iterada</p>
<p><span class="math display">\[
\int_{R} f(x,y)\,dA
= \int_a^b \int_{g_1(y)}^{g_2(y)} f(x,y)\,dx\,dy.
\]</span></p>
<hr>
<div id="exm-integral-region-irregular" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 5</strong></span> Veamos cómo calcular la integral doble de la función <span class="math inline">\(f(x,y)=xy\)</span> sobre la región encerrada entre las curvas <span class="math inline">\(y=x\)</span> e <span class="math inline">\(y=x^2\)</span>. La región encerrada entre las curvas se muestra en el siguiente gráfico.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/integrales-funciones-varias-variables/region-irregular.svg" class="img-fluid figure-img" width="500"></p>
<figcaption>Región comprendida entre las curvas <span class="math inline">\(y=x\)</span> e <span class="math inline">\(y=x^2\)</span>.</figcaption>
</figure>
</div>
</div>
<hr>
<p>Esta región puede expresarse como <span class="math inline">\(R=\{(x,y)\in \mathbb{R}^2: 0\leq x\leq 1, x^2\leq y\leq x\}\)</span>, por lo que la integral doble de <span class="math inline">\(f\)</span> sobre esta región puede calcularse mediante la integral iterada</p>
<p><span class="math display">\[\begin{align*}
\int_0^1\int_{x^2}^x xy\,dy\,dx
&amp;= \int_0^1 \left[x\frac{y^2}{2}\right]_{x^2}^x\,dx
= \int_0^1 x\frac{x^2-x^4}{2}\,dx
= \int_0^1 \frac{x^3-x^5}{2}\,dx\\
&amp;= \left[\frac{x^4}{8}-\frac{x^6}{12}\right]_0^1
= \frac{1}{8}-\frac{1}{12}
= \frac{1}{24}.
\end{align*}\]</span></p>
<p>En este caso, la región también puede expresarse como <span class="math inline">\(R=\{(x,y)\in \mathbb{R}^2: y\leq x\leq \sqrt{y}, 0\leq y\leq 1\}\)</span>, por lo que la integral doble de <span class="math inline">\(f\)</span> sobre esta región también puede calcularse mediante la integral iterada</p>
<p><span class="math display">\[\begin{align*}
\int_0^1\int_y^{\sqrt{y}} xy\,dx\,dy
&amp;= \int_0^1 \left[\frac{x^2}{2}y\right]_y^{\sqrt{y}}\,dy
= \int_0^1 \frac{y-y^2}{2}y\,dy
= \int_0^1 \frac{y^2-y^3}{2}\,dx\\
&amp;= \left[\frac{y^3}{6}-\frac{y^4}{8}\right]_0^1
= \frac{1}{6}-\frac{1}{8}
= \frac{1}{24}.
\end{align*}\]</span></p>
<hr>
<p>En este tipo de integrales iteradas, hay que integrar siempre primero con respecto a la variable que está acotada por las funciones que definen la región y después con respecto a la variable que está acotada por valores fijos. Cuando interese realizar la integral iterada en el otro orden, porque resulte más sencilla, previamente hay que cambiar la expresión de la región de integración mediante las funciones inversas, siempre y cuando sea posible.</p>
<hr>
<div id="exm-integral-region-irregular-2" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 6</strong></span> Para calcular la integral de la función <span class="math inline">\(f(x,y)=e^{-y^2}\)</span> en la región <span class="math inline">\(R=\{(x,y)\in \mathbb{R}^2: 0\leq x\leq 1, 0\leq y\leq 2x\}\)</span>, como <span class="math inline">\(y\)</span> está acotada por una función de <span class="math inline">\(x\)</span>, habría que hacer la integral iterada</p>
<p><span class="math display">\[
\int_0^1\int_0^{2x} e^{-y^2}\,dy\,dx.
\]</span></p>
<p>Sin embargo, la función <span class="math inline">\(e^{-y^2}\)</span> no tiene primitiva elemental, por lo que necesariamente hay que realizar la integral iterada en el otro orden, pero para ello previamente hay que expresar la región como <span class="math inline">\(R=\{(x,y)\in \mathbb{R}^2: 0\leq x\leq \frac{y}{2}, 0\leq y\leq 2\}\)</span>, con lo que la integral doble sobre esta región es</p>
<p><span class="math display">\[\begin{align*}
\int_0^2\int_0^{y/2} e^{-y^2}\,dx\,dy
&amp;= \int_0^2 e^{-y^2}[x]_0^{y/2}\,dy
= \int_0^2 e^{-y^2}\frac{y}{2}\,dy \\
&amp;= \left[\frac{-e^{-y^2}}{4}\right]_0^2
= \frac{-e^{-4}+1}{4}.
\end{align*}\]</span></p>
</div>
</section>
<section id="integrales-dobles-en-coordenadas-polares" class="level2">
<h2 class="anchored" data-anchor-id="integrales-dobles-en-coordenadas-polares">Integrales dobles en coordenadas polares</h2>
<p>Para integrar determinadas funciones es preferible hacer un cambio a coordenadas polares. Recordemos que para pasar de coordenadas cartesianas <span class="math inline">\((x,y)\)</span> a coordenadas polares <span class="math inline">\((r,\theta)\)</span> se utilizan las fórmulas</p>
<p><span class="math display">\[
r = \sqrt{x^2 + y^2} \qquad \theta = \operatorname{arcsin}\left(\frac{y}{\sqrt{x^2+y^2}}\right) = \operatorname{arccos}\left(\frac{x}{\sqrt{x^2+y^2}}\right),
\]</span></p>
<p>y para pasar de coordenadas polares a cartesianas se utiliza la fórmula</p>
<p><span class="math display">\[
x = r\cos(\theta) \qquad y = r\operatorname{sen}(\theta).
\]</span></p>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<p>En coordenadas polares un intervalo bidimensional <span class="math inline">\(I=[a,b]\times[\alpha,\beta]\)</span> define un sector de disco como el que se muestra a continuación.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/integrales-funciones-varias-variables/intervalo-bidimensional-polar.svg" class="img-fluid figure-img" width="400"></p>
<figcaption>Intervalo bidimensional en coordenadas polares.</figcaption>
</figure>
</div>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<p>Si la función <span class="math inline">\(f(x,y)\)</span> es continua sobre un intervalo polar <span class="math inline">\(I=[a,b]\times[\alpha,\beta]\)</span> con <span class="math inline">\(\beta-\alpha\leq 2\pi\)</span>, la integral doble de <span class="math inline">\(f\)</span> sobre esta región se puede calcular mediante la integral iterada</p>
<p><span class="math display">\[
\int_I f(x,y)\,dA
= \int_{\alpha}^{\beta}\int_a^b f(r\cos(\theta),r\operatorname{sen}{\theta})r\,dr\,d\theta.
\]</span></p>
<hr>
<div id="exm-volumen-esfera" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 7</strong></span> La gráfica de la función <span class="math inline">\(f(x,y)=\sqrt{a^2-x^2-y^2}\)</span> es una semiesfera de radio uno centrada en el origen de coordenadas. Para calcular su volumen, la región de integración es el círculo de radio uno centrado en el origen de coordenadas, que puede expresarse como <span class="math inline">\(R=\{(x,y)\in\mathbb{R}^2: 0\leq x\leq 1, -\sqrt{a^2-x^2}\leq y\leq \sqrt{a^2-x^2}\}\)</span>. En este caso la integral en coordenadas rectangulares es complicada y merece la pena hacer la integral en coordenadas polares.</p>
<p><span class="math display">\[\begin{align*}
\int_I f(x,y)\,dA
&amp;= \int_0^{2\pi}\int_0^a f(r\cos(\theta),r\operatorname{sen}{\theta})r\,dr\,d\theta \\
&amp;= \int_0^{2\pi}\int_0^a \sqrt{a^2-(r\cos(\theta))^2-(r\operatorname{sen}(\theta))^2}r\,dr\,d\theta \\
&amp;= \int_0^{2\pi}\int_0^a \sqrt{a^2-r^2(\cos(\theta)^2+\operatorname{sen}(\theta)^2)}r\,dr\,d\theta \\
&amp;= \int_0^{2\pi}\int_0^a  \sqrt{a^2-r^2}r\,dr\,d\theta
= \int_0^{2\pi} -\left[\frac{(a^2-r^2)^{3/2}}{3}\right]_0^a\,d\theta \\
&amp;= \int_0^{2\pi} \frac{a^2}{3}\,d\theta
= \left[\frac{a^2\theta}{3}\right]_0^{2\pi}
= \frac{2\pi a^2}{3}.
\end{align*}\]</span></p>
<p>Y por tanto, el volumen de la esfera de radio uno centrada en el origen es <span class="math inline">\(\frac{4}{3}\pi a^2\)</span>, que coincide con la fórmula habitual.</p>
</div>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<p>Cuando la región de integración es irregular pero puede expresarse de la forma <span class="math inline">\(R=\{(r,\theta)\in \mathbb{R}^+\times \mathbb{R}: \alpha\leq \theta\leq \beta, g_1(\theta)\leq r\leq g_2(\theta)\}\)</span>, la integral doble en coordenadas polares puede calcularse mediante la integral iterada</p>
<p><span class="math display">\[
\int_R f(x.y)\,dA
= \int_{\alpha}^{\beta} \int_{g_1(\theta)}^{g_2(\theta)} f(r\cos(\theta),r\operatorname{sen}(\theta))r\,dr\,d\theta.
\]</span></p>
<hr>
<div id="exm-integral-region-irregular-polar" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 8</strong></span> Veamos cómo calcular el volumen encerrado entre la gráfica integral del paraboloide <span class="math inline">\(f(x,y)=x^2+y^2\)</span> y el plano <span class="math inline">\(xy\)</span> sobre la circunferencia de ecuación <span class="math inline">\(x^2+(y^2-1)=1\)</span>. En coordenadas polares, la circunferencia que delimita la región de integración puede escribirse como <span class="math inline">\(R=\{(r,\theta)\in \mathbb{R}^+\times \mathbb{R}: 0\leq \theta\leq \pi, 0\leq r\leq 2\operatorname{sen}(\theta)\}\)</span>. Por tanto, podemos calcular la integral de <span class="math inline">\(f\)</span> sobre la región <span class="math inline">\(R\)</span> mediante la integral iterada</p>
</div>
<hr>
<p><span class="math display">\[\begin{align*}
\int_R f(x,y)\,dA
&amp;= \int_0^\pi \int_0^{2\operatorname{sen}(\theta)} f(r\cos(\theta),r\operatorname{sen}{\theta})r\,dr\,d\theta \\
&amp;= \int_0^\pi \int_0^{2\operatorname{sen}(\theta)} ((r\cos(\theta))^2 + (r\operatorname{sen}{\theta})^2)r\,dr\,d\theta \\
&amp;= \int_0^\pi \int_0^{2\operatorname{sen}(\theta)} r^3\,dr\,d\theta
= \int_0^\pi \left[\frac{r^4}{4}\right]_0^{2\operatorname{sen}(\theta)} \,d\theta \\
&amp;= \int_0^\pi 4\operatorname{sen}(\theta)^4 \,d\theta
= \int_0^\pi (1-\cos(2\theta))^2\,d\theta \\
&amp;= \int_0^\pi 1 - 2\cos(2\theta) + \cos(2\theta)^2 \,d\theta \\
&amp;= \int_0^\pi 1 - 2\cos(2\theta) + \frac{1+\cos(4\theta)}{2}\,d\theta \\
&amp;= \left[\theta - \operatorname{sen}(2\theta) + \frac{\theta}{2} + \frac{\operatorname{sen}(4\theta)}{8}\right]_0^\pi
= \frac{3}{2}\pi.
\end{align*}\]</span></p>
</section>
<section id="cálculo-de-volúmenes" class="level2">
<h2 class="anchored" data-anchor-id="cálculo-de-volúmenes">Cálculo de volúmenes</h2>
<p>Cuando <span class="math inline">\(f(x,y)\)</span> es positiva en el intervalo de integración <span class="math inline">\(I=[a,b]\times[c,b]\)</span>, la integral doble <span class="math inline">\(\int_I f(x,y)\,dx\,dy\)</span> da el volumen del sólido encerrado entre la superficie de <span class="math inline">\(f\)</span> y el plano <span class="math inline">\(xy\)</span> en la región delimitada por <span class="math inline">\(I\)</span>. Ahora bien, si <span class="math inline">\(f\)</span> es negativa en <span class="math inline">\(I\)</span>, entonces el valor de la integral doble es negativo, por lo que habrá que cambiarla de signo para poder interpretarla como un volumen.</p>
<p>La cosa se complica cuando <span class="math inline">\(f\)</span> puede tomar valores positivos y negativos en el intervalo <span class="math inline">\(I\)</span>. En tal caso, para obtener el volumen tendremos que calcular la integral del valor absoluto de la función, o bien descomponer el intervalo de integración <span class="math inline">\(I\)</span> en subintervalos donde la función sea positiva o negativa, integrar la función en cada uno de estos subintervalos y luego sumar el valor absoluto de estas integrales.</p>
<hr>
<div id="exm-volumen-integral-doble" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 9</strong></span> Veamos cómo calcular el volumen de la función <span class="math inline">\(f(x,y)=x^2y\)</span> en el intervalo <span class="math inline">\(I=[-1,1]\times[-1,1]\)</span>. En el intervalo de integración, la función toma valores negativos en el subintervalo <span class="math inline">\(I_1=[-1,1]\times[-1,0]\)</span> y valores positivos en el intervalo <span class="math inline">\([-1,1]\times[0,1]\)</span>, por lo que el volumen encerrado entre la gráfica de la función y el plano <span class="math inline">\(xy\)</span> viene dado por la suma de las integrales</p>
<p><span class="math display">\[\begin{align*}
\int_{I_1} -f(x,y)\,dA
&amp;= \int_{-1}^1\int_{-1}^0 -x^2y\,dy\,x
= \int_{-1}^1 \left[-x^2\frac{y^2}{2}\right]_{-1}^0\,dx \\
&amp;= \int_{-1}^1 \frac{x^2}{2}\,dx
= \left[\frac{x^3}{6}\right]_{-1}^1 \\
&amp;= \frac{1}{6}+\frac{1}{6}
= \frac{1}{3}.
\end{align*}\]</span></p>
</div>
<hr>
<p>y</p>
<p><span class="math display">\[\begin{align*}
\int_{I_1} f(x,y)\,dA
&amp;= \int_{-1}^1\int_0^1 x^2y\,dy\,x
= \int_{-1}^1 \left[x^2\frac{y^2}{2}\right]_0^1\,dx \\
&amp;= \int_{-1}^1 \frac{x^2}{2}\,dx
= \left[\frac{x^3}{6}\right]_{-1}^1 \\
&amp;= \frac{1}{6}+\frac{1}{6}
= \frac{1}{3},
\end{align*}\]</span></p>
<p>es decir,</p>
<p><span class="math display">\[
\int_I x^2y\,dA
= \int_{I_1} x^2y\,dA + \int_{I_2} x^2y\,dA
= \frac{1}{3} + \frac{1}{3}
= \frac{2}{3}.
\]</span></p>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Obsérvese que también se puede usar la integral doble para calcular el área de una región plana integrando sobre esta región la función <span class="math inline">\(f(x,y)=1\)</span>, ya que cuanto la altura <span class="math inline">\(1\)</span>, el volumen coincide con el área de la base.</p>
<p>Del mismo modo se puede usar una integral tripe para calcular el volumen de una región tridimensional.</p>
</div>
</div>
</section>
<section id="cálculo-del-area-de-una-superficie" class="level2">
<h2 class="anchored" data-anchor-id="cálculo-del-area-de-una-superficie">Cálculo del area de una superficie</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/integrales-funciones-varias-variables/planto-tangente-aproximacion-area-superficie.png" class="img-fluid figure-img"></p>
<figcaption>Aproximación de la superficie de una función mediante paralelogramos.</figcaption>
</figure>
</div>
<hr>
<p>Para cada paralelogramo <span class="math inline">\(T_{ij}\)</span> consideramos los vectores <span class="math inline">\(\mathbf{u}_{ij}\)</span> y <span class="math inline">\(\mathbf{v}_{ij}\)</span> con origen en <span class="math inline">\((x_i, y_j)\)</span> y con la misma dirección y longitud que los lados del paralelogramo.</p>
<p>Como <span class="math inline">\(\mathbf{u}_{ij}\)</span> está contenido en la intersección plano tangente a <span class="math inline">\(f\)</span> en <span class="math inline">\((x_i,y_j,f(x_i,y_j))\)</span>, con el plano <span class="math inline">\(y=y_j\)</span>, se tiene que su pendiente es <span class="math inline">\(f'_x(x_i,y_j)\)</span>, por lo que sus coordenadas son <span class="math inline">\((\Delta x, 0, f'_x(x_i,y_j)\Delta x)\)</span>.</p>
<p>Del mismo modo, como <span class="math inline">\(\mathbf{v}_{ij}\)</span> está contenido en la intersección plano tangente, con el plano <span class="math inline">\(x=x_i\)</span>, se tiene que su pendiente es <span class="math inline">\(f'_y(x_i,y_j)\)</span>, por lo que sus coordenadas son <span class="math inline">\((0, \Delta y, f'_y(x_i,y_j)\Delta y)\)</span>.</p>
<p>Así pues, el producto vectorial de <span class="math inline">\(\mathbf{u}_{ij}\)</span> y <span class="math inline">\(\mathbf{v}_{ij}\)</span> es</p>
<p><span class="math display">\[\begin{align*}
\mathbf{u}_{ij}\times\mathbf{v}_{ij}
&amp;=
\begin{vmatrix}
\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \\
\Delta x &amp; 0 &amp; f'_x(x_i,y_j)\Delta x \\
0 &amp; \Delta y &amp; f'_y(x_i,y_j)\Delta y
\end{vmatrix} \\
&amp;= -f'_x(x_i,y_j)\Delta x\Delta y \mathbf{i} -f'_y(x_i,y_j)\Delta x\Delta y \mathbf{j} + \Delta x\Delta y \mathbf{k} \\
&amp;= (-f'_x(x_i,y_j), -f'_y(x_i,y_j), 1)\Delta x\Delta y,
\end{align*}\]</span></p>
<hr>
<p>y el área del paralelogramo <span class="math inline">\(T_{ij}\)</span> es</p>
<p><span class="math display">\[
\Delta T_{ij}
= |\mathbf{u}_{ij}\times\mathbf{v}_{ij}|
= \sqrt{f'_x(x_i,y_j)^2 + f'_y(x_i,y_j)^2 + 1}\Delta x\Delta y.
\]</span></p>
<p>De este modo, el área de la superficie de <span class="math inline">\(f\)</span> sobre el intervalo <span class="math inline">\(I\)</span> se puede aproximar mediante la suma</p>
<p><span class="math display">\[
\sum_{i=1}^n\sum_{j=1}^n \Delta T_{ij}
= \sum_{i=1}^n\sum_{j=1}^n \sqrt{f'_x(x_i,y_j)^2 + f'_y(x_i,y_j)^2 + 1}\Delta x\Delta y.
\]</span></p>
<p>Tomando particiones cada vez más refinadas, en el límite cuando <span class="math inline">\(n\to \infty\)</span> se tiene que el área de la superficie de <span class="math inline">\(f\)</span> sobre el intervalo <span class="math inline">\(I\)</span> viene dado por la integral</p>
<p><span class="math display">\[
A_I(f) = \int_I \sqrt{f'_x(x_i,y_j)^2 + f'_y(x_i,y_j)^2 + 1}\,dA.
\]</span></p>
<hr>
<div id="exm-área-superficie-semi-esfera" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 10</strong></span> La gráfica de la función <span class="math inline">\(f(x,y)=\sqrt{a^2-x^2-y^2}\)</span> es la semiesfera de radio <span class="math inline">\(a\)</span> centrada en el origen de coordenadas. El área de la superficie de esta semiesfera puede calcularse mediante la integral</p>
<p><span class="math display">\[
A_R(f) = \int_R \sqrt{f'_x(x_i,y_j)^2 + f'_y(x_i,y_j)^2 + 1}\,dA
\]</span></p>
<p>donde <span class="math inline">\(R=\{(x,y)\in \mathbb{R}: -a\leq x\leq a, -\sqrt{a^2-x^2}\leq y\leq \sqrt{a^2-x^2}\}\)</span>.</p>
<p>Como las derivadas parciales de <span class="math inline">\(f\)</span> valen</p>
<p><span class="math display">\[\begin{align*}
f'_x(x,y) &amp;= \frac{-x}{\sqrt{a^2-x^2-y^2}}, \\
f'_y(x,y) &amp;= \frac{-y}{\sqrt{a^2-x^2-y^2}},
\end{align*}\]</span></p>
<p>la integral anterior se puede calcular mediante la integral iterada</p>
<p><span class="math display">\[
A_R(f) = \int_{-a}^a \int_{-\sqrt{a^2-x^2}}^{\sqrt{a^2-x^2}} \sqrt{\frac{x^2}{a^2-x^2-y^2} + \frac{y^2}{a^2-x^2-y^2} + 1}\,dy\,dx.
\]</span></p>
</div>
<hr>
<p>Esta integral, no obstante, es difícil de calcular, por lo que merece la pena hacer el cambio a coordenadas polares, de manera que la región de integración polar es <span class="math inline">\(R=\{(r,\theta)\in \mathbb{R}^+\times \mathbb{R}: 0\leq \theta\leq 2\pi, 0\leq r\leq a\}\)</span> y la integral se convierte en</p>
<p><span class="math display">\[\begin{align*}
A_R(f)
&amp;= \int_0^{2\pi} \int_0^a \sqrt{\frac{r^2\cos(\theta)^2}{a^2-r^2}+\frac{r^2\operatorname{sen}(\theta)^2}{a^2-r^2}+1}r\,dr\,d\theta \\
&amp;= \int_0^{2\pi} \int_0^a \sqrt{\frac{a^2}{a^2-r^2}}r\,dr\,d\theta.
\end{align*}\]</span></p>
<hr>
<p>Esta última integral es impropia ya que <span class="math inline">\(\frac{a^2}{a^2-r^2}\to \infty\)</span> cuando <span class="math inline">\(r\to a\)</span>, pero la integral es finita, ya que</p>
<p><span class="math display">\[
\lim_{s\to a^-}\int_0^s \sqrt{\frac{a^2}{a^2-r^2}} r\,dr
= \lim_{s\to a^-} a(-\sqrt{a^2-s^2}+a) = a^2,
\]</span></p>
<p>y siguiendo con el cálculo de la integral anterior se tiene</p>
<p><span class="math display">\[
A_R(f)
= \int_0^{2\pi} a^2\,d\theta
= 2\pi a^2,
\]</span></p>
<p>por lo que el área de la esfera de radio <span class="math inline">\(a\)</span> centrada en el origen de coordenadas es <span class="math inline">\(4\pi a^2\)</span>, que coincide con la fórmula habitual.</p>
</section>
<section id="centro-de-masas" class="level2">
<h2 class="anchored" data-anchor-id="centro-de-masas">Centro de masas</h2>
<p>Una aplicación física inmediata de las integrales dobles o triples es el cálculo de la masa de una sólido plano o del espacio con densidad variable en cada punto. Si <span class="math inline">\(\delta(x,y)\)</span> es la densidad en cada uno de los puntos de un sólido que ocupa una región <span class="math inline">\(R\)</span> del plano <span class="math inline">\(xy\)</span>, la masa total del sólido puede calcularse mediante la integral</p>
<p><span class="math display">\[
m = \int_R \delta(x,y)\,dA,
\]</span></p>
<p>siempre y cuando la función <span class="math inline">\(\delta\)</span> sea integrable en la región <span class="math inline">\(R\)</span>.</p>
<hr>
<div id="exm-masa-region-plana" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 11</strong></span> Una placa metálica tiene la forma de región <span class="math inline">\(R=\{(x,y)\in\mathbb{R}^2: 0\leq x\leq 1, 0\leq y\leq 1-x^2\}\)</span> y la densidad en cada punto viene dada por la función <span class="math inline">\(\delta(x,y)=xy\)</span> en gr/cm<span class="math inline">\(^2\)</span>. Entonces su masa es</p>
<p><span class="math display">\[\begin{align*}
m
&amp;= \int_R \delta(x,y)\,dA
= \int_0^1 \int_0^{1-x^2} xy\,dy\,dx
= \int_0^1 x\left[\frac{y^2}{2}\right]_0^{1-x^2}\,dx \\
&amp;= \int_0^1 x\frac{(1-x^2)^2}{2}\,dx
= \int_0^1 \frac{x-2x^3+x^5}{2}\,dx \\
&amp;= \left[\frac{x^2}{4}-\frac{2x^4}{8}+\frac{x^6}{12}\right]_0^1
= \frac{1}{4}-\frac{2}{8}+\frac{1}{12}
= \frac{1}{12} \mbox{ gr}.
\end{align*}\]</span></p>
</div>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"></h2>
<p>También podemos utilizar las integrales dobles para calcular el <em>momento</em> de cada punto de un sólido <span class="math inline">\(R\)</span> del plano <span class="math inline">\(xy\)</span> con respecto a cada uno de los ejes. <span class="math display">\[\begin{align*}
M_x
&amp;= \int_R y\delta(x,y)\,dA \\
M_y
&amp;= \int_R x\delta(x,y)\,dA
\end{align*}\]</span></p>
<p>A partir de los momentos resulta sencillo calcular el <em>centro de masas</em> o <em>centroide</em> <span class="math inline">\((\bar x, \bar y)\)</span> del sólido plano, dividiendo cada momento por la masa del sólido, es decir,</p>
<p><span class="math display">\[\begin{align*}
\bar x
&amp;= \frac{M_y}{m}
= \frac{\int_R x\delta(x,y)\,dA}{\int_R \delta(x,y)\,dA} \\
\bar y
&amp;= \frac{M_x}{m}
= \frac{\int_R y\delta(x,y)\,dA}{\int_R \delta(x,y)\,dA}
\end{align*}\]</span></p>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Un sólido plano se comporta como si toda su masa se concentrara en el centroide, de manera que se mantendría en equilibrio horizontal al apoyarlo sobre este punto.</p>
</div>
</div>
<hr>
<div id="exm-centro-masas-solido-plano-densidad-variable" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 12</strong></span> El momento con respecto al eje <span class="math inline">\(x\)</span> de la placa metálica del ejemplo anterior es</p>
<p><span class="math display">\[\begin{align*}
M_x
&amp;= \int_R y\delta(x,y)\,dA
= \int_0^1 \int_0^{1-x^2} xy^2\,dy\,dx
= \int_0^1 x\left[\frac{y^3}{3}\right]_0^{1-x^2}\,dx \\
&amp;= \int_0^1 x\frac{(1-x^2)^3}{3}\,dx
= \int_0^1 \frac{x-3x^3+3x^5-x^7}{3}\,dx \\
&amp;= \left[\frac{x^2}{6}-\frac{x^4}{4}+\frac{x^6}{6}-\frac{x^8}{24}\right]_0^1
= \frac{1}{6}-\frac{1}{4}+\frac{1}{6}-\frac{1}{24}
= \frac{1}{24} \mbox{ gr$\cdot$ cm}.
\end{align*}\]</span></p>
<p>Del mismo modo, el momento con respecto al eje <span class="math inline">\(y\)</span> es</p>
<p><span class="math display">\[\begin{align*}
M_y
&amp;= \int_R x\delta(x,y)\,dA
= \int_0^1 \int_0^{1-x^2} x^2y\,dy\,dx
= \int_0^1 x^2\left[\frac{y^2}{2}\right]_0^{1-x^2}\,dx \\
&amp;= \int_0^1 x^2\frac{(1-x^2)^2}{2}\,dx
= \int_0^1 \frac{x^2-2x^4+x^6}{2}\,dx \\
&amp;= \left[\frac{x^3}{6}-\frac{x^5}{5}+\frac{x^7}{14}\right]_0^1
= \frac{1}{6}-\frac{1}{5}+\frac{1}{14}
= \frac{4}{105} \mbox{ gr$\cdot$ cm}.
\end{align*}\]</span></p>
</div>
<hr>
<p>Por lo tanto, el centroide de la placa metálica tendrá coordenadas</p>
<p><span class="math display">\[\begin{align*}
\bar x
&amp;= \frac{M_x}{m}
= \frac{\int_R y\delta(x,y)\,dA}{\int_R \delta(x,y)\,dA}
= \frac{1/24}{1/12} = 0.5 \mbox{ cm},\\
\bar y
&amp;= \frac{M_y}{m}
= \frac{\int_R x\delta(x,y)\,dA}{\int_R \delta(x,y)\,dA}
= \frac{4/105}{1/12} = \frac{16}{35} \approx 0.4571  \mbox{ cm}.
\end{align*}\]</span></p>
</section>
<section id="valor-medio-de-una-función" class="level2">
<h2 class="anchored" data-anchor-id="valor-medio-de-una-función">Valor medio de una función</h2>
<div id="def-valor-medio-funcion-varias-variables" class="theorem definition">
<p><span class="theorem-title"><strong>Definición 6 (Valor medio de una función de varias variables)</strong></span> Dada una función <span class="math inline">\(f:\mathbb{R}^n\to \mathbb{R}\)</span> integrable sobre una región <span class="math inline">\(R\subset \mathbb{R}^n\)</span>, el <em>valor medio</em> de <span class="math inline">\(f\)</span> sobre <span class="math inline">\(R\)</span> es</p>
<p><span class="math display">\[
\bar{f}_R = \frac{\int_R f(x_1,\ldots,x_n)\,dA}{\int_R\,dA}
\]</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p>Obsérvese que la integral del denominador <span class="math inline">\(\int_R\,dA\)</span>, para una función de dos variables da el área de la región <span class="math inline">\(R\)</span>, mientras que para una función de tres variables da el volumen de la región <span class="math inline">\(R\)</span>.</p>
</div>
</div>
<hr>
<div id="exm-valor-medio-funcion-varias-variables" class="theorem example">
<p><span class="theorem-title"><strong>Ejemplo 13</strong></span> En el <a href="#exm-integral-region-irregular" class="quarto-xref">Ejemplo&nbsp;5</a> vimos que la integral doble de la función <span class="math inline">\(f(x,y)=xy\)</span> sobre la región <span class="math inline">\(R=\{(x,y)\in \mathbb{R}^2: 0\leq x\leq 1, x^2\leq y\leq x\}\)</span> era <span class="math inline">\(\int_R xy\,dA = \frac{1}{24}\)</span>. Como el área de la región <span class="math inline">\(R\)</span> es</p>
<p><span class="math display">\[\begin{align*}
\int_R \,dA
&amp;= \int_0^1 \int_{x^2}^x  \,dy\,dx
= \int_0^1 [y]_{x^2}^x\,dx
= \int_0^1 x-x^2\,dx \\
&amp;= \left[\frac{x^2}{2}-\frac{x^3}{3}\right]_0^1
= \frac{1}{2}-\frac{1}{3}
= \frac{1}{6}.
\end{align*}\]</span></p>
<p>el valor medio de <span class="math inline">\(f\)</span> en <span class="math inline">\(R\)</span> es</p>
<p><span class="math display">\[
\bar f_R
= \frac{\int_R xy\,dA}{\int_R\,dA}
= \frac{1/24}{1/6}
= \frac{1}{4}.
\]</span></p>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>